(()=>{var t={692:t=>{t.exports={innit:function(t,e,n){const r=document.createElement("div");r.classList.add("board");for(let e=0;e<t.board.length;e++){const a=document.createElement("div");a.classList.add("row");for(let r=0;r<t.board.length;r++){const i=document.createElement("div");"player"===n&&null!==t.board[e][r]&&i.classList.add("ship"),i.classList.add("cell"),i.setAttribute("data-x",e),i.setAttribute("data-y",r),a.appendChild(i)}r.appendChild(a)}e.appendChild(r)}}}},e={};function n(r){var a=e[r];if(void 0!==a)return a.exports;var i=e[r]={exports:{}};return t[r](i,i.exports,n),i.exports}(()=>{"use strict";const t=function(){const t=new Set;function e(t){return{x:Math.floor(Math.random()*t),y:Math.floor(Math.random()*t)}}return{attack:function(e,n){return t.has(JSON.stringify(n))?"try again":(t.add(JSON.stringify(n)),"number"==typeof e.receiveAttack(n)?"hit":"miss")},randomAttack:function(n){let r=e(10);for(;t.has(JSON.stringify(r));)r=e(10);t.add(JSON.stringify(r)),n.receiveAttack(r)},getRandomCoordinates:e}},e=function(){const t=new Array(10).fill(null).map((()=>new Array(10).fill(null)));let e=[];function n(e){return null!==t[e.x][e.y]}return{board:t,placeShip:function(e,n,r){if("vertical"===r)for(let r=0;r<n.length;r+=1)t[e.x+r].splice(e.y,1,n);if("horizontal"===r)for(let r=0;r<n.length;r+=1)t[e.x].splice(e.y+r,1,n);return!0},containsShip:n,receiveAttack:function(r){return n(r)?t[r.x][r.y].hit():(e=[...e,r],r)},allShipsSunk:function(){return t.map((t=>t.filter((t=>null!==t)))).filter((t=>0!==t.length)).map((t=>t.map((t=>t.isSunk())))).map((t=>t.some((t=>!0===t)))).every((t=>!0===t))},canShipBePlaced:function(e,n,r){let a=[];if("vertical"===r){if(e.x<0||e.x+n.length>=10||e.y<0||e.y>=10)return!1;e.x-1>=0&&e.x+n.length<10&&(a=[...a,t[e.x-1][e.y],t[e.x+n.length][e.y],t[e.x-1][e.y-1],t[e.x-1][e.y+1],t[e.x+n.length][e.y-1],t[e.x+n.length][e.y+1]]);for(let r=e.x;r<e.x+n.length;r++)a=[...a,t[r][e.y-1],t[r][e.y+1]]}if("horizontal"===r){if(e.y<0||e.y+n.length>=10||e.x<0||e.x>=10)return!1;e.y-1>=0&&e.y+n.length<10&&(a=[...a,t[e.x][e.y-1],t[e.x][e.y+n.length]],e.x-1>=0&&e.x+1<10&&(a=[...a,t[e.x-1][e.y-1],t[e.x+1][e.y-1],t[e.x-1][e.y+n.length],t[e.x+1][e.y+n.length]]));for(let r=e.y;r<e.y+n.length;r+=1)e.x-1>=0&&e.x+1<10&&(a=[...a,t[e.x-1][r],t[e.x+1][r]])}return a.filter((t=>void 0!==t)).every((t=>null===t))}}},r=function(t,e=0){const n={};return n.length=t,n.timesHit=e,n.hit=function(){return n.timesHit+=1,n.timesHit},n.isSunk=function(){return n.length<=n.timesHit},n},a=[4,3,3,2,2,2,1,1,1,1],i=function(){const n=t(),i=t();function o(t){for(const e of a){const a=r(e),i=l();let o=n.getRandomCoordinates(9);for(;!1===t.canShipBePlaced(o,a,i);)o=n.getRandomCoordinates(10);t.placeShip(o,a,i)}return t}function l(){const t=["vertical","horizontal"];return t[Math.floor(Math.random()*t.length)]}const c=o(e()),s=o(e());return{randomShips:o,computerBoard:c,playerBoard:s,player:n,computer:i}};var o=n(692);const l=document.querySelector(".player"),c=document.querySelector(".opponent"),s=i();function u(t){if(t.target&&t.target.className.includes("cell")){const e={x:Number(t.target.getAttribute("data-x")),y:Number(t.target.getAttribute("data-y"))},n=s.player.attack(s.computerBoard,e);"hit"===n?(t.target.className+=" hit",s.computerBoard.allShipsSunk()&&(alert("you win"),s=i())):"miss"===n&&(t.target.className+=" miss")}}(0,o.innit)(s.playerBoard,l,"player"),(0,o.innit)(s.computerBoard,c,"computer"),window.addEventListener("DOMContentLoaded",(s.player==s.player&&c.addEventListener("click",u),void s.computer))})()})();